(()=>{"use strict";var e,t={112:()=>{const e=window.wp.blocks,t=window.wp.i18n,o=window.wp.blockEditor,n=window.wp.element,s=window.wp.components,a=window.ReactJSXRuntime,i=((0,t.__)("Thin","cozy-addons"),(0,t.__)("Extra Light","cozy-addons"),(0,t.__)("Light","cozy-addons"),(0,t.__)("Normal","cozy-addons"),(0,t.__)("Medium","cozy-addons"),(0,t.__)("Semi Bold","cozy-addons"),(0,t.__)("Bold","cozy-addons"),(0,t.__)("Extra Bold","cozy-addons"),(0,t.__)("Black","cozy-addons"),(0,n.memo)((({children:e})=>(0,a.jsx)(a.Fragment,{children:(0,a.jsxs)("div",{className:"cthf__upsell-attr-wrapper",children:[e,(0,a.jsx)("span",{className:"cthf__pro-label",children:(0,a.jsx)("svg",{width:"16",height:"13",viewBox:"0 0 16 13",xmlns:"http://www.w3.org/2000/svg",children:(0,a.jsx)("path",{d:"M13.2 11.2H2.8C2.58 11.2 2.4 11.38 2.4 11.6V12.4C2.4 12.62 2.58 12.8 2.8 12.8H13.2C13.42 12.8 13.6 12.62 13.6 12.4V11.6C13.6 11.38 13.42 11.2 13.2 11.2ZM14.8 3.2C14.1375 3.2 13.6 3.7375 13.6 4.4C13.6 4.5775 13.64 4.7425 13.71 4.895L11.9 5.98C11.515 6.21 11.0175 6.08 10.795 5.69L8.7575 2.125C9.025 1.905 9.2 1.575 9.2 1.2C9.2 0.5375 8.6625 0 8 0C7.3375 0 6.8 0.5375 6.8 1.2C6.8 1.575 6.975 1.905 7.2425 2.125L5.205 5.69C4.9825 6.08 4.4825 6.21 4.1 5.98L2.2925 4.895C2.36 4.745 2.4025 4.5775 2.4025 4.4C2.4025 3.7375 1.865 3.2 1.2025 3.2C0.54 3.2 0 3.7375 0 4.4C0 5.0625 0.5375 5.6 1.2 5.6C1.265 5.6 1.33 5.59 1.3925 5.58L3.2 10.4H12.8L14.6075 5.58C14.67 5.59 14.735 5.6 14.8 5.6C15.4625 5.6 16 5.0625 16 4.4C16 3.7375 15.4625 3.2 14.8 3.2Z"})})})]})}))),(0,n.memo)((({className:e="",styles:t={},children:o})=>(0,a.jsx)(a.Fragment,{children:(0,a.jsx)("div",{className:"cthf__attr-wrapper"+(e.length>0?" "+e:""),style:t,children:o})})))),l=(0,n.memo)((()=>{const{attributes:e,setAttributes:o}=(0,n.useContext)(u),[l,r]=(0,n.useState)("general");return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(s.Panel,{children:(0,a.jsxs)(s.PanelBody,{title:(0,t.__)("General","rootblox"),opened:"general"===l,onToggle:()=>r("general"),children:[(0,a.jsx)(s.SelectControl,{label:(0,t.__)("Starting day of Week","rootblox"),options:[{label:(0,t.__)("Monday","rootblox"),value:"mon"},{label:(0,t.__)("Tuesday","rootblox"),value:"tue"},{label:(0,t.__)("Wednesday","rootblox"),value:"wed"},{label:(0,t.__)("Thursday","rootblox"),value:"thu"},{label:(0,t.__)("Friday","rootblox"),value:"fri"},{label:(0,t.__)("Saturday","rootblox"),value:"sat"},{label:(0,t.__)("Sunday","rootblox"),value:"sun"}],value:e.startingDay,onChange:t=>o({...e,startingDay:t}),__next40pxDefaultSize:!0}),(0,a.jsx)(s.ToggleControl,{label:(0,t.__)("12 Hour Format","rootblox"),checked:e.timeFormat,onChange:t=>o({...e,timeFormat:t})})]})}),(0,a.jsx)(s.Panel,{children:(0,a.jsxs)(s.PanelBody,{title:(0,t.__)("Availability Settings","rootblox"),opened:"availability-settings"===l,onToggle:()=>r("availability-settings"),children:[e.weekdays.map(((n,i)=>(0,a.jsx)(a.Fragment,{children:(0,a.jsxs)("fieldset",{className:"cthf__attr-group has-border-wrap",children:[(0,a.jsx)("legend",{children:String(n.key)}),(0,a.jsx)(s.CheckboxControl,{label:(0,t.__)("Business Day?","rootblox"),checked:n.opened,onChange:t=>{const s=e.weekdays.map((e=>e.key===n.key?{...e,opened:t}:e));o({...e,weekdays:s})}}),n.opened&&(0,a.jsx)(a.Fragment,{children:(0,a.jsxs)("div",{className:"cthf__time-format-only "+(e.timeFormat?"":" cthf__attr-divider"),style:{justifyContent:"left"},children:[(0,a.jsx)(s.TimePicker.TimeInput,{label:(0,t.__)("Opening Hour","rootblox"),value:n.openTime,onChange:t=>{const s=e.weekdays.map((e=>e.key===n.key?{...e,openTime:{...t}}:e));o({...e,weekdays:[...s]})},is12Hour:e.timeFormat}),(0,a.jsx)(s.TimePicker.TimeInput,{label:(0,t.__)("Closing Hour","rootblox"),value:n.closeTime,onChange:t=>{const s=e.weekdays.map((e=>e.key===n.key?{...e,closeTime:{...t}}:e));o({...e,weekdays:[...s]})},is12Hour:e.timeFormat})]})})]})}))),(0,a.jsx)(s.TextControl,{label:(0,t.__)("Separator","rootblox"),value:e.timeStyles.separator,onChange:t=>o({...e,timeStyles:{...e.timeStyles,separator:t}}),__next40pxDefaultSize:!0})]})}),(0,a.jsx)(s.Panel,{children:(0,a.jsxs)(s.PanelBody,{title:(0,t.__)("Notification Settings","rootblox"),opened:"notification-settings"===l,onToggle:()=>r("notification-settings"),children:[(0,a.jsx)(s.TextareaControl,{label:(0,t.__)("Available Message","rootblox"),value:e.notification.open,onChange:t=>o({...e,notification:{...e.notification,open:t}})}),(0,a.jsx)(s.TextareaControl,{label:(0,t.__)("Away Message","rootblox"),value:e.notification.close,onChange:t=>o({...e,notification:{...e.notification,close:t}})}),(0,a.jsx)(s.ToggleControl,{label:(0,t.__)("Enable Timer","rootblox"),checked:e.notification.addTimer,onChange:t=>o({...e,notification:{...e.notification,addTimer:t}}),help:(0,t.__)("Sets the countdown until open/close.","rootblox")}),e.notification.addTimer&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(i,{children:(0,a.jsxs)("div",{className:"cthf__time-format-only",children:[(0,a.jsx)(s.TimePicker.TimeInput,{label:(0,t.__)("Difference","rootblox"),value:e.notification.timeDiff,onChange:t=>o({...e,notification:{...e.notification,timeDiff:t}}),help:(0,t.__)("Set how soon before open/close.","rootblox")}),(0,a.jsx)("span",{className:"cthf__help-text",style:{display:"block",marginTop:"-6px"},children:(0,t.__)("Set how soon before open/close.","rootblox")})]})}),(0,a.jsx)(s.TextareaControl,{label:(0,t.__)("Opening Soon Message","rootblox"),value:e.notification.nearingOpen,onChange:t=>o({...e,notification:{...e.notification,nearingOpen:t}}),help:(0,t.__)('Replaces "Available Message" when the timer shows.',"rootblox")}),(0,a.jsx)(s.TextareaControl,{label:(0,t.__)("Closing Soon Message","rootblox"),value:e.notification.nearingClose,onChange:t=>o({...e,notification:{...e.notification,nearingClose:t}}),help:(0,t.__)('Replaces "Away Message" when the timer shows.',"rootblox")})]})]})})]})})),r=(0,n.memo)((()=>{const{attributes:e,setAttributes:o}=(0,n.useContext)(u),[l,r]=(0,n.useState)(null);return(0,a.jsx)(a.Fragment,{children:(0,a.jsx)(s.Panel,{children:(0,a.jsx)(s.PanelBody,{title:(0,t.__)("Weekday Styles","rootblox"),opened:"weekday-styles"===l,onToggle:()=>r("weekday-styles"),children:(0,a.jsx)(i,{styles:{maxWidth:"50%"},children:(0,a.jsx)(s.__experimentalUnitControl,{label:(0,t.__)("Gap","rootblox"),value:e.itemStyles.gap,onChange:t=>o({...e,itemStyles:{...e.itemStyles,gap:t}}),__next40pxDefaultSize:!0})})})})})})),c=(0,n.memo)((()=>(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(o.InspectorControls,{group:"settings",children:(0,a.jsx)(l,{})},"setting"),(0,a.jsx)(o.InspectorControls,{group:"styles",children:(0,a.jsx)(r,{})},"style")]})));function d(e,t,o){const n=t?t.toString().padStart(2,"0"):"00";if(o){const t=e>=12?"PM":"AM";return`${(e%12||12).toString().padStart(2,"0")}:${n} ${t}`}return`${e.toString().padStart(2,"0")}:${n}`}function h(e,t){return`\n        #${e} .business-hour__item:not(:first-child) {\n            margin-top: ${t.itemStyles.gap};\n        }\n\n    `}const u=(0,n.createContext)(null),m=(0,n.memo)((()=>{const{blockID:e,attributes:o}=(0,n.useContext)(u),[s,i]=(0,n.useState)(!1),[l,r]=(0,n.useState)(!1);return(0,n.useEffect)((()=>{const e=setInterval((()=>{const e=new Date,t=["sunday","monday","tuesday","wednesday","thursday","friday","saturday"][e.getDay()],n=o.weekdays.find((e=>e.key===t));if(!n||!n.opened)return null;const s=o.notification.timeDiff,a=60*(60*parseInt(s.hours,10)+parseInt(s.minutes,10))*1e3,l=new Date(e);l.setHours(parseInt(n.openTime.hours),parseInt(n.openTime.minutes),0,0);const c=new Date(e);c.setHours(parseInt(n.closeTime.hours),parseInt(n.closeTime.minutes),0,0);const d=l-e,h=c-e;d>0&&d<=a?(i(!0),r(!1)):i(!1),h>0&&h<=a?(r(!0),i(!1)):r(!1)}),1e3);return()=>clearInterval(e)}),[o.notification,o.weekdays]),(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("style",{dangerouslySetInnerHTML:{__html:h(e,o)}}),(0,a.jsxs)("div",{id:e,className:"cthf-block__business-hours",children:[(0,a.jsx)("ul",{className:"business-hours__wrap",children:o.weekdays.map(((e,n)=>(0,a.jsx)(a.Fragment,{children:(0,a.jsxs)("li",{className:"business-hour__item",children:[(0,a.jsx)("span",{className:"weekday",children:e.key}),e.opened&&(0,a.jsxs)("div",{className:"active-hours",children:[(0,a.jsx)("span",{className:"opening-hour",children:d(e.openTime?.hours,e.openTime?.minutes,o.timeFormat)}),(0,a.jsx)("span",{className:"time-separator",children:o.timeStyles.separator}),(0,a.jsx)("span",{className:"closing-hour",children:d(e.closeTime?.hours,e.closeTime?.minutes,o.timeFormat)})]}),!e.opened&&(0,a.jsx)(a.Fragment,{children:(0,a.jsx)("span",{className:"closed-label",children:o.timeStyles.separator+(0,t.__)("Closed","rootblox")})})]})})))}),(0,a.jsx)("div",{className:"notification-wrap",children:(0,a.jsxs)("div",{className:"message",children:[s&&!l?o.notification.nearingOpen:o.notification.open,l&&!s?o.notification.nearingClose:o.notification.close]})})]})]})})),x=JSON.parse('{"UU":"cthf-blocks/business-hours","DD":"Business Hours","h_":"Displays your business hours in a clear, concise format to show when you\'re available."}');cthfAssets.isPremium&&(0,e.registerBlockType)(x.UU,{title:(0,t.__)(x.DD,"rootblox"),description:(0,t.__)(x.h_,"rootblox"),edit:function({attributes:e,setAttributes:t,clientId:n}){if(e.cover)return(0,a.jsx)("img",{src:e.cover});e.clientId=n;const s=`cthf_${n.replace(/-/gi,"_")}`,i=(0,o.useBlockProps)({className:"cthf-block__wrapper"});return(0,a.jsx)(a.Fragment,{children:(0,a.jsxs)(u.Provider,{value:{blockID:s,attributes:e,setAttributes:t},children:[(0,a.jsx)("div",{...i,children:(0,a.jsx)(m,{})}),(0,a.jsx)(c,{})]})})},save:function({attributes:e}){}})}},o={};function n(e){var s=o[e];if(void 0!==s)return s.exports;var a=o[e]={exports:{}};return t[e](a,a.exports,n),a.exports}n.m=t,e=[],n.O=(t,o,s,a)=>{if(!o){var i=1/0;for(d=0;d<e.length;d++){for(var[o,s,a]=e[d],l=!0,r=0;r<o.length;r++)(!1&a||i>=a)&&Object.keys(n.O).every((e=>n.O[e](o[r])))?o.splice(r--,1):(l=!1,a<i&&(i=a));if(l){e.splice(d--,1);var c=s();void 0!==c&&(t=c)}}return t}a=a||0;for(var d=e.length;d>0&&e[d-1][2]>a;d--)e[d]=e[d-1];e[d]=[o,s,a]},n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{var e={57:0,350:0};n.O.j=t=>0===e[t];var t=(t,o)=>{var s,a,[i,l,r]=o,c=0;if(i.some((t=>0!==e[t]))){for(s in l)n.o(l,s)&&(n.m[s]=l[s]);if(r)var d=r(n)}for(t&&t(o);c<i.length;c++)a=i[c],n.o(e,a)&&e[a]&&e[a][0](),e[a]=0;return n.O(d)},o=globalThis.webpackChunkbusiness_hours=globalThis.webpackChunkbusiness_hours||[];o.forEach(t.bind(null,0)),o.push=t.bind(null,o.push.bind(o))})();var s=n.O(void 0,[350],(()=>n(112)));s=n.O(s)})();